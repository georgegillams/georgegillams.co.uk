{"version":3,"sources":["../../server/redirectNonWWW.js"],"names":["redirectNonWWW","req","res","next","NODE_ENV","PROJECT_UNDER_TEST","headers","host","match","newURL","url","redirect"],"mappings":";;;;;;;AAAA;;AAEA,IAAMA,cAAc,GAAG,SAAjBA,cAAiB,CAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AACzC,MAAIC,wBAAa,YAAb,IAA6BC,6BAAjC,EAAqD;AACnDF,IAAAA,IAAI;AACL,GAFD,MAEO;AACL,QAAIF,GAAG,CAACK,OAAJ,CAAYC,IAAZ,CAAiBC,KAAjB,CAAuB,MAAvB,KAAkC,IAAtC,EAA4C;AAC1C,UAAIC,MAAM,GAAG,iBAAiBR,GAAG,CAACK,OAAJ,CAAYC,IAA7B,GAAoCN,GAAG,CAACS,GAArD;AACAR,MAAAA,GAAG,CAACS,QAAJ,CAAaF,MAAb;AACD,KAHD,MAGO;AACLN,MAAAA,IAAI;AACL;AACF;AACF,CAXD;;eAaeH,c","sourcesContent":["import { PROJECT_UNDER_TEST, NODE_ENV } from 'helpers/constants';\n\nconst redirectNonWWW = (req, res, next) => {\n  if (NODE_ENV !== 'production' || PROJECT_UNDER_TEST) {\n    next();\n  } else {\n    if (req.headers.host.match(/^www/) == null) {\n      var newURL = 'https://www.' + req.headers.host + req.url;\n      res.redirect(newURL);\n    } else {\n      next();\n    }\n  }\n};\n\nexport default redirectNonWWW;\n"],"file":"redirectNonWWW.js"}