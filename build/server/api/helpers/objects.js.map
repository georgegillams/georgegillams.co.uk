{"version":3,"sources":["../../../../server/api/helpers/objects.js"],"names":["formValueChanged","object","attributeName","event","action","callback","newValue","JSON","parse","stringify","target","value","checked","createDictionary","data","keyProperty","dict","i","length","key","push","deArrayitise","array","associate","additionalData","dataKey","additionalDataKey","associationName","preventDearrayisation","newData","additionalDataDictionary","finalValue"],"mappings":";;;;;;;AAAA,IAAMA,gBAAgB,GAAG,SAAnBA,gBAAmB,CACvBC,MADuB,EAEvBC,aAFuB,EAGvBC,KAHuB,EAIvBC,MAJuB,EAMpB;AAAA,MADHC,QACG,uEADQ,IACR;AACH,MAAMC,QAAQ,GAAGC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,SAAL,CAAeR,MAAf,CAAX,CAAjB;AACAK,EAAAA,QAAQ,CAACJ,aAAD,CAAR,GACEC,KAAK,CAACO,MAAN,CAAaC,KAAb,KAAuB,IAAvB,GAA8BR,KAAK,CAACO,MAAN,CAAaE,OAA3C,GAAqDT,KAAK,CAACO,MAAN,CAAaC,KADpE;AAEAP,EAAAA,MAAM,CAACE,QAAD,CAAN;;AACA,MAAID,QAAJ,EAAc;AACZA,IAAAA,QAAQ,CAACC,QAAD,CAAR;AACD;AACF,CAdD;;;;AAgBA,IAAMO,gBAAgB,GAAG,SAAnBA,gBAAmB,CAACC,IAAD,EAAOC,WAAP,EAAuB;AAC9C,MAAMC,IAAI,GAAG,EAAb;;AACA,OAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGH,IAAI,CAACI,MAAzB,EAAiCD,CAAC,IAAI,CAAtC,EAAyC;AACvC,QAAME,GAAG,GAAGL,IAAI,CAACG,CAAD,CAAJ,CAAQF,WAAR,CAAZ;;AACA,QAAIC,IAAI,CAACG,GAAD,CAAR,EAAe;AACbH,MAAAA,IAAI,CAACG,GAAD,CAAJ,CAAUC,IAAV,CAAeN,IAAI,CAACG,CAAD,CAAnB;AACD,KAFD,MAEO;AACLD,MAAAA,IAAI,CAACG,GAAD,CAAJ,GAAY,CAACL,IAAI,CAACG,CAAD,CAAL,CAAZ;AACD;AACF;;AACD,SAAOD,IAAP;AACD,CAXD;;AAaA,IAAMK,YAAY,GAAG,SAAfA,YAAe,CAAAC,KAAK,EAAI;AAC5B,MAAIA,KAAK,IAAIA,KAAK,CAACJ,MAAN,KAAiB,CAA9B,EAAiC;AAC/B,WAAOI,KAAK,CAAC,CAAD,CAAZ;AACD;;AACD,SAAOA,KAAP;AACD,CALD;;AAOA,IAAMC,SAAS,GAAG,SAAZA,SAAY,CAChBT,IADgB,EAEhBU,cAFgB,EAGhBC,OAHgB,EAIhBC,iBAJgB,EAKhBC,eALgB,EAMhBC,qBANgB,EAOb;AACH,MAAMC,OAAO,GAAGtB,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,SAAL,CAAeK,IAAf,CAAX,CAAhB,CADG,CAGH;;AACA,MAAMgB,wBAAwB,GAAGjB,gBAAgB,CAC/CW,cAD+C,EAE/CE,iBAF+C,CAAjD;;AAKA,OAAK,IAAIT,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGY,OAAO,CAACX,MAA5B,EAAoCD,CAAC,IAAI,CAAzC,EAA4C;AAC1C,QAAME,GAAG,GAAGU,OAAO,CAACZ,CAAD,CAAP,CAAWQ,OAAX,CAAZ;;AACA,QAAIK,wBAAwB,CAACX,GAAD,CAA5B,EAAmC;AACjC,UAAMY,UAAU,GAAGH,qBAAqB,GACpCE,wBAAwB,CAACX,GAAD,CADY,GAEpCE,YAAY,CAACS,wBAAwB,CAACX,GAAD,CAAzB,CAFhB;AAGAU,MAAAA,OAAO,CAACZ,CAAD,CAAP,CAAWU,eAAX,IAA8BI,UAA9B;AACD;AACF;;AACD,SAAOF,OAAP;AACD,CA1BD;;;eA6Be;AACb7B,EAAAA,gBAAgB,EAAhBA,gBADa;AAEbuB,EAAAA,SAAS,EAATA;AAFa,C","sourcesContent":["const formValueChanged = (\n  object,\n  attributeName,\n  event,\n  action,\n  callback = null,\n) => {\n  const newValue = JSON.parse(JSON.stringify(object));\n  newValue[attributeName] =\n    event.target.value === 'on' ? event.target.checked : event.target.value;\n  action(newValue);\n  if (callback) {\n    callback(newValue);\n  }\n};\n\nconst createDictionary = (data, keyProperty) => {\n  const dict = {};\n  for (let i = 0; i < data.length; i += 1) {\n    const key = data[i][keyProperty];\n    if (dict[key]) {\n      dict[key].push(data[i]);\n    } else {\n      dict[key] = [data[i]];\n    }\n  }\n  return dict;\n};\n\nconst deArrayitise = array => {\n  if (array && array.length === 1) {\n    return array[0];\n  }\n  return array;\n};\n\nconst associate = (\n  data,\n  additionalData,\n  dataKey,\n  additionalDataKey,\n  associationName,\n  preventDearrayisation,\n) => {\n  const newData = JSON.parse(JSON.stringify(data));\n\n  // Create a dictionary of the additional data\n  const additionalDataDictionary = createDictionary(\n    additionalData,\n    additionalDataKey,\n  );\n\n  for (let i = 0; i < newData.length; i += 1) {\n    const key = newData[i][dataKey];\n    if (additionalDataDictionary[key]) {\n      const finalValue = preventDearrayisation\n        ? additionalDataDictionary[key]\n        : deArrayitise(additionalDataDictionary[key]);\n      newData[i][associationName] = finalValue;\n    }\n  }\n  return newData;\n};\n\nexport { formValueChanged, associate };\nexport default {\n  formValueChanged,\n  associate,\n};\n"],"file":"objects.js"}