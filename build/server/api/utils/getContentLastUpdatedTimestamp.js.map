{"version":3,"sources":["../../../../server/api/utils/getContentLastUpdatedTimestamp.js"],"names":["getContentLastUpdatedTimestamp","Promise","resolve","redisKey","then","contentUpdateData","length","lastUpdatedTimestamp"],"mappings":";;;;;;;AAAA;;AAEe,SAASA,8BAAT,GAA0C;AACvD,SAAO,IAAIC,OAAJ,CAAY,UAAAC,OAAO,EAAI;AAC5B,0BAAU;AAAEC,MAAAA,QAAQ,EAAE;AAAZ,KAAV,EAA0CC,IAA1C,CAA+C,UAAAC,iBAAiB,EAAI;AAClE,UAAIA,iBAAiB,IAAIA,iBAAiB,CAACC,MAAlB,GAA2B,CAApD,EAAuD;AACrD;AACAJ,QAAAA,OAAO,CAACG,iBAAiB,CAAC,CAAD,CAAjB,CAAqBE,oBAAtB,CAAP;AACD,OAHD,MAGO;AACLL,QAAAA,OAAO,CAAC,CAAD,CAAP;AACD;AACF,KAPD;AAQD,GATM,CAAP;AAUD","sourcesContent":["import { datumLoad } from '../actions/datum';\n\nexport default function getContentLastUpdatedTimestamp() {\n  return new Promise(resolve => {\n    datumLoad({ redisKey: 'contentUpdates' }).then(contentUpdateData => {\n      if (contentUpdateData && contentUpdateData.length > 0) {\n        // In the interest of reducing traffic, only send the raw timestamp value\n        resolve(contentUpdateData[0].lastUpdatedTimestamp);\n      } else {\n        resolve(1);\n      }\n    });\n  });\n}\n"],"file":"getContentLastUpdatedTimestamp.js"}