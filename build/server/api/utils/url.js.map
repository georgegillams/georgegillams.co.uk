{"version":3,"sources":["../../../../server/api/utils/url.js"],"names":["mapUrl","availableActions","url","notFound","action","params","length","Object","keys","reducer","prev","current","concat","actionAndParams","reduce"],"mappings":";;;;;;;AAAO,SAASA,MAAT,GAAiD;AAAA,MAAjCC,gBAAiC,uEAAd,EAAc;AAAA,MAAVC,GAAU,uEAAJ,EAAI;AACtD,MAAMC,QAAQ,GAAG;AAAEC,IAAAA,MAAM,EAAE,IAAV;AAAgBC,IAAAA,MAAM,EAAE;AAAxB,GAAjB,CADsD,CAGtD;;AACA,MAAIH,GAAG,CAACI,MAAJ,KAAe,CAAf,IAAoBC,MAAM,CAACC,IAAP,CAAYP,gBAAZ,EAA8BK,MAA9B,KAAyC,CAAjE,EAAoE;AAClE,WAAOH,QAAP;AACD;AACD;;;AACA,MAAMM,OAAO,GAAG,SAAVA,OAAU,CAACC,IAAD,EAAOC,OAAP,EAAmB;AACjC,QAAID,IAAI,CAACN,MAAL,IAAeM,IAAI,CAACN,MAAL,CAAYO,OAAZ,CAAnB,EAAyC;AACvC,aAAO;AAAEP,QAAAA,MAAM,EAAEM,IAAI,CAACN,MAAL,CAAYO,OAAZ,CAAV;AAAgCN,QAAAA,MAAM,EAAE;AAAxC,OAAP,CADuC,CACc;AACtD,KAFD,MAEO;AACL,UAAI,OAAOK,IAAI,CAACN,MAAZ,KAAuB,UAA3B,EAAuC;AACrC,eAAO;AAAEA,UAAAA,MAAM,EAAEM,IAAI,CAACN,MAAf;AAAuBC,UAAAA,MAAM,EAAEK,IAAI,CAACL,MAAL,CAAYO,MAAZ,CAAmBD,OAAnB;AAA/B,SAAP,CADqC,CACgC;AACtE,OAFD,MAEO;AACL,eAAOR,QAAP;AACD;AACF;AACF,GAVD;AAWA;;;AAEA,MAAMU,eAAe,GAAGX,GAAG,CAACY,MAAJ,CAAWL,OAAX,EAAoB;AAC1CL,IAAAA,MAAM,EAAEH,gBADkC;AAE1CI,IAAAA,MAAM,EAAE;AAFkC,GAApB,CAAxB;AAKA,SAAO,OAAOQ,eAAe,CAACT,MAAvB,KAAkC,UAAlC,GACHS,eADG,GAEHV,QAFJ;AAGD","sourcesContent":["export function mapUrl(availableActions = {}, url = []) {\n  const notFound = { action: null, params: [] };\n\n  // test for empty input\n  if (url.length === 0 || Object.keys(availableActions).length === 0) {\n    return notFound;\n  }\n  /*eslint-disable */\n  const reducer = (prev, current) => {\n    if (prev.action && prev.action[current]) {\n      return { action: prev.action[current], params: [] }; // go deeper\n    } else {\n      if (typeof prev.action === 'function') {\n        return { action: prev.action, params: prev.params.concat(current) }; // params are found\n      } else {\n        return notFound;\n      }\n    }\n  };\n  /* eslint-enable */\n\n  const actionAndParams = url.reduce(reducer, {\n    action: availableActions,\n    params: [],\n  });\n\n  return typeof actionAndParams.action === 'function'\n    ? actionAndParams\n    : notFound;\n}\n"],"file":"url.js"}