(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{"./app/containers/AdminAnalytics/AnalyticEntity.js":function(e,t,n){"use strict";var a=n("./node_modules/@babel/runtime/helpers/interopRequireWildcard.js"),l=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=l(n("./node_modules/@babel/runtime/helpers/jsx.js")),r=l(n("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js")),i=a(n("./node_modules/react/index.js")),o=n("./node_modules/gg-components/Cards/index.js"),u=n("./node_modules/gg-components/Typography/index.js"),d=(n("./node_modules/gg-components/Button/index.js"),n("./helpers/constants.js"),n("./node_modules/gg-components/Auth/index.js")),c=(l(n("./app/containers/pages.scss")),(0,s.default)("br",{})),f=(0,s.default)("br",{}),p=(0,s.default)("br",{}),m=function(e){var t=e.entity,n=e.children,a=(0,r.default)(e,["entity","children"]);return i.default.createElement(o.Card,a,(0,s.default)(u.Section,{name:t.url},void 0,t.id&&(0,s.default)(i.Fragment,{},void 0,(0,s.default)(u.Paragraph,{},void 0,t.id),c),t.utm_source&&(0,s.default)(i.Fragment,{},void 0,(0,s.default)(u.Paragraph,{},void 0,t.utm_source),f),t.utm_medium&&(0,s.default)(i.Fragment,{},void 0,(0,s.default)(u.Paragraph,{},void 0,t.utm_medium),p),(0,s.default)(d.DebugObject,{debugTitle:"Analytic",debugObject:t}),n&&n))};t.default=m,e.exports=t.default},"./app/containers/AdminAnalytics/Container.js":function(e,t,n){"use strict";var a=n("./node_modules/@babel/runtime/helpers/interopRequireWildcard.js"),l=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=l(n("./node_modules/@babel/runtime/helpers/extends.js")),r=l(n("./node_modules/@babel/runtime/helpers/jsx.js")),i=l(n("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js")),o=l(n("./node_modules/@babel/runtime/helpers/classCallCheck.js")),u=l(n("./node_modules/@babel/runtime/helpers/createClass.js")),d=l(n("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),c=l(n("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),f=l(n("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),p=l(n("./node_modules/@babel/runtime/helpers/inherits.js")),m=l(n("./node_modules/@babel/runtime/helpers/defineProperty.js")),y=a(n("./node_modules/react/index.js")),b=(l(n("./node_modules/prop-types/index.js")),n("./node_modules/gg-components/Input/index.js")),g=n("./node_modules/react-helmet/lib/Helmet.js"),A=n("./node_modules/bpk-react-utils/index.js"),j=l(n("./app/containers/AdminAnalytics/Skeleton.js")),h=l(n("./app/containers/AdminAnalytics/AnalyticEntity.js")),_=n("./node_modules/gg-components/Button/index.js"),v=(n("./node_modules/gg-components/Cards/index.js"),n("./node_modules/gg-components/Typography/index.js")),x=(n("./helpers/constants.js"),n("./node_modules/gg-components/Auth/index.js")),O=l(n("./helpers/HelperFunctions.js")),M=(n("./node_modules/gg-components/Checkbox/index.js"),l(n("./app/containers/pages.scss"))),S=(0,A.cssModules)(M.default),R=(0,r.default)("br",{}),T=(0,r.default)("br",{}),w=(0,r.default)("label",{htmlFor:"filterURL"},void 0,"Filter by URL"),C=(0,r.default)("br",{}),E=(0,r.default)("br",{}),U=(0,r.default)("label",{htmlFor:"filterUTMSource"},void 0,"Filter by UTM source"),L=(0,r.default)("br",{}),P=(0,r.default)("br",{}),k=(0,r.default)("label",{htmlFor:"filterUTMMedium"},void 0,"Filter by UTM medium"),D=(0,r.default)("br",{}),F=(0,r.default)("br",{}),I=(0,r.default)("label",{htmlFor:"filterOwner"},void 0,"Filter by owner"),N=(0,r.default)("br",{}),q=(0,r.default)("br",{}),B=(0,r.default)("br",{}),W=(0,r.default)("br",{}),G=(0,r.default)(_.Button,{onClick:function(){for(var e=document.getElementsByTagName("DIV"),t=0;t<e.length;t+=1){var n=e[t];O.default.includes(n.textContent,"▶️ ")&&n.click()}},large:!0},void 0,"Expand all entities"),Y=(0,r.default)("br",{}),H=(0,r.default)("br",{}),J=(0,r.default)(g.Helmet,{title:"Admin - analytics"}),z=function(e){function t(e){var n;return(0,o.default)(this,t),n=(0,d.default)(this,(0,c.default)(t).call(this,e)),(0,m.default)((0,f.default)(n),"componentDidMount",(function(){n.props.loadAnalytics()})),n.state={newAnalytic:{},filterURL:null,filterUTMSource:null,filterUTMMedium:null,filterOwner:null},n}return(0,p.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.setLoginRedirect,a=t.user,l=t.userLoading,o=t.className,u=t.analytics,d=t.loadAnalytics,c=t.loadingAnalytics,f=t.loadAnalyticsSuccess,p=t.loadAnalyticsError,m=(t.createAnalytic,t.creatingAnalytic,t.deleteAnalytic,t.deletingAnalytic,(0,i.default)(t,["setLoginRedirect","user","userLoading","className","analytics","loadAnalytics","loadingAnalytics","loadAnalyticsSuccess","loadAnalyticsError","createAnalytic","creatingAnalytic","deleteAnalytic","deletingAnalytic"])),g=[];o&&g.push(o);var A=u;A&&(this.state.filterURL&&(A=A.filter((function(t){return t.url&&O.default.includes(t.url,e.state.filterURL)}))),this.state.filterUTMSource&&(A=A.filter((function(t){return t.utm_source&&O.default.includes(t.utm_source,e.state.filterUTMSource)}))),this.state.filterUTMMedium&&(A=A.filter((function(t){return t.utm_medium&&O.default.includes(t.utm_medium,e.state.filterUTMMedium)}))),this.state.filterOwner&&(A=A.filter((function(t){return t.ownerUname&&O.default.includes(t.ownerUname,e.state.filterOwner)}))));var M=!!A&&!!A.length&&!!A.map,z=y.default.createElement("div",(0,s.default)({className:g.join(" ")},m),(0,r.default)(x.AdminOnly,{user:a,setLoginRedirect:function(){return n("admin/analytic")}},void 0,(0,r.default)(v.Section,{name:"Admin - analytics"},void 0,(0,r.default)(_.Button,{onClick:function(){return d()},large:!0},void 0,"Reload analytics"),R,T,u&&(0,r.default)(y.Fragment,{},void 0,w,(0,r.default)(b.Input,{id:"filterURL",name:"Filter by category",value:this.state.filterURL,onChange:function(t){e.setState({filterURL:t.target.value})}}),C,E,U,(0,r.default)(b.Input,{id:"filterUTMSource",name:"Filter by family",value:this.state.filterUTMSource,onChange:function(t){e.setState({filterUTMSource:t.target.value})}}),L,P,k,(0,r.default)(b.Input,{id:"filterUTMMedium",name:"Filter by family",value:this.state.filterUTMMedium,onChange:function(t){e.setState({filterUTMMedium:t.target.value})}}),D,F,I,(0,r.default)(b.Input,{id:"filterOwner",name:"Filter by owner",value:this.state.filterOwner,onChange:function(t){e.setState({filterOwner:t.target.value})}}),N,q,(0,r.default)(v.Paragraph,{},void 0,"Showing ",A.length," of ",u.length," ","analytics"),B,W,G,Y,H,M&&A.map((function(e){return(0,r.default)(h.default,{entity:e,className:S("pages__component")})}))))));return(0,r.default)(y.Fragment,{},void 0,J,(0,r.default)(x.LoadingCover,{loadingSkeleton:j.default,loading:l||!u&&c},void 0,z),(0,r.default)(x.DebugObject,{debugTitle:"Admin analytics",debugObject:{setLoginRedirect:n,user:a,userLoading:l,className:o,loadAnalytics:d,analytics:u,loadingAnalytics:c,loadAnalyticsSuccess:f,loadAnalyticsError:p}}))}}]),t}(y.default.Component);t.default=z,z.defaultProps={analytics:null,loadAnalyticsError:null,loadAnalyticsSuccess:!1,loadingAnalytics:!1,className:null,creatingAnalytic:!1,deletingAnalytic:!1,loggingIn:!1,user:null,userLoading:!1},e.exports=t.default},"./app/containers/AdminAnalytics/actionMeta.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a={key:"adminAnalytics",actionDefinitions:[{LOAD_ANALYTICS:"tbd",attributes:[],stateMutations:{loadingAnalytics:!0,loadAnalyticsError:null}},{LOAD_ANALYTICS_REGISTER_SUCCESS:"tbd",attributes:["analytics"],stateMutations:{loadingAnalytics:!1,loadAnalyticsSuccess:!0,analytics:function(e){return e.analytics}}},{LOAD_ANALYTICS_REGISTER_ERROR:"tbd",attributes:["loadAnalyticsError"],stateMutations:{loadingAnalytics:!1,loadAnalyticsSuccess:!1,loadAnalyticsError:function(e){return e.loadAnalyticsError}}}]};t.default=a,e.exports=t.default},"./app/containers/AdminAnalytics/index.js":function(e,t,n){"use strict";var a=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),l=a(n("./node_modules/@babel/runtime/helpers/defineProperty.js")),s=a(n("./app/containers/App/selectors.js")),r=n("./helpers/redux/index.js"),i=a(n("./app/containers/AdminAnalytics/actionMeta.js")),o=n("./app/containers/AdminAnalytics/redux-definitions.js"),u=a(n("./app/containers/AdminAnalytics/saga.js")),d=a(n("./app/containers/AdminAnalytics/Container.js"));function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,l.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}e.exports=(0,r.composeContainer)(d.default,i.default.key,f({},o.selectors,{},s.default),f({},o.actions),o.reducer,u.default)},"./app/containers/AdminAnalytics/redux-definitions.js":function(e,t,n){"use strict";var a=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),l=a(n("./app/containers/AdminAnalytics/actionMeta.js")),s=a(n("./helpers/redux/index.js"));e.exports=(0,s.default)(l.default)},"./app/containers/AdminAnalytics/saga.js":function(e,t,n){"use strict";var a=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.doLoadAnalytics=g,t.default=A;var l=a(n("./node_modules/@babel/runtime/regenerator/index.js")),s=n("./app/containers/AdminAnalytics/redux-definitions.js"),r=n("./node_modules/redux-saga/dist/redux-saga-effects-npm-proxy.cjs.js"),i=n("./app/containers/RequestStatusWrapper/actions.js"),o=n("./helpers/constants.js"),u=a(n("./app/utils/request.js")),d=l.default.mark(g),c=l.default.mark(A),f=s.constants.LOAD_ANALYTICS,p=(s.actions.loadAnalytics,s.actions.loadAnalyticsRegisterSuccess),m=s.actions.loadAnalyticsRegisterError,y=(s.selectors.makeSelectAnalyticToDelete,s.selectors.makeSelectNewAnalytic,{type:"success",message:"Analytics loaded!"}),b={type:"error",message:"Could not load analytics."};function g(){var e,t;return l.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e="".concat(o.API_ENDPOINT,"/analytics/load"),n.prev=1,n.next=4,(0,r.call)(u.default,e,{method:"GET"});case 4:if(!(t=n.sent).error){n.next=12;break}return n.next=8,(0,r.put)(m(t));case 8:return n.next=10,(0,r.put)((0,i.pushMessage)(b));case 10:n.next=16;break;case 12:return n.next=14,(0,r.put)(p(t));case 14:return n.next=16,(0,r.put)((0,i.pushMessage)(y));case 16:n.next=24;break;case 18:return n.prev=18,n.t0=n.catch(1),n.next=22,(0,r.put)(m(n.t0));case 22:return n.next=24,(0,r.put)((0,i.pushMessage)(o.COMMUNICATION_ERROR_MESSAGE));case 24:case"end":return n.stop()}}),d,null,[[1,18]])}function A(){return l.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,r.takeLatest)(f,g);case 2:case"end":return e.stop()}}),c)}}}]);