(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"./app/containers/Account/Container.js":function(e,t,n){"use strict";var o=n("./node_modules/@babel/runtime/helpers/interopRequireWildcard.js"),s=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s(n("./node_modules/@babel/runtime/helpers/extends.js")),a=s(n("./node_modules/@babel/runtime/helpers/jsx.js")),i=s(n("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js")),u=s(n("./node_modules/@babel/runtime/helpers/classCallCheck.js")),c=s(n("./node_modules/@babel/runtime/helpers/createClass.js")),l=s(n("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),d=s(n("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),p=s(n("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),f=s(n("./node_modules/@babel/runtime/helpers/inherits.js")),g=s(n("./node_modules/@babel/runtime/helpers/defineProperty.js")),m=o(n("./node_modules/react/index.js")),j=(s(n("./node_modules/prop-types/index.js")),n("./node_modules/react-helmet/lib/Helmet.js")),b=(o(n("./node_modules/bpk-component-image/index.js")),n("./node_modules/bpk-react-utils/index.js")),E=s(n("./app/containers/Account/Skeleton.js")),_=(n("./node_modules/gg-components/LoadingIndicator/index.js"),n("./node_modules/gg-components/Button/index.js")),O=n("./node_modules/gg-components/Typography/index.js"),h=(n("./node_modules/gg-components/Code/index.js"),n("./node_modules/gg-components/Auth/index.js")),A=(n("./app/components/Forms/index.js"),n("./app/components/Sessions/index.js")),v=n("./helpers/constants.js"),R=s(n("./app/containers/pages.scss")),x=((0,b.cssModules)(R.default),(0,a.default)("br",{})),y=(0,a.default)("br",{}),S=(0,a.default)("br",{}),q=(0,a.default)(m.Fragment,{},void 0,(0,a.default)(_.Button,{large:!0,href:"/sign-up/continue?page=1"},void 0,"View/edit details"),(0,a.default)("br",{}),(0,a.default)("br",{})),I=(0,a.default)(j.Helmet,{title:"Account"}),C=function(e){function t(){var e,n;(0,u.default)(this,t);for(var o=arguments.length,s=new Array(o),r=0;r<o;r++)s[r]=arguments[r];return n=(0,l.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(s))),(0,g.default)((0,p.default)(n),"componentWillMount",(function(){})),n}return(0,f.default)(t,e),(0,c.default)(t,[{key:"render",value:function(){var e=this.props,t=e.setLoginRedirect,n=e.cookiesAllowed,o=e.onCookiesAccepted,s=e.logout,u=e.user,c=e.userLoading,l=e.loggingOut,d=e.loggingOutSuccess,p=e.loggingOutError,f=e.requestVerificationEmail,g=e.requestingVerificationEmail,j=e.requestingSuccess,b=e.requestingError,R=e.className,C=(0,i.default)(e,["setLoginRedirect","cookiesAllowed","onCookiesAccepted","logout","user","userLoading","loggingOut","loggingOutSuccess","loggingOutError","requestVerificationEmail","requestingVerificationEmail","requestingSuccess","requestingError","className"]),k=[];R&&k.push(R);var P=m.default.createElement("div",(0,r.default)({className:k.join(" ")},C),(0,a.default)(h.LoggedInOnly,{user:u,setLoginRedirect:function(){return t("account")}},void 0,(0,a.default)(O.Section,{name:"Account"},void 0,(0,a.default)(O.Paragraph,{},void 0,u&&u.email&&(0,a.default)("div",{},void 0,"Email: ".concat(u.email)),u&&u.uname&&(0,a.default)("div",{},void 0,"Display name: ".concat(u.uname)),x),u&&!u.emailVerified&&v.EMAIL_VERIFICATION_ENABLED&&(0,a.default)(m.Fragment,{},void 0,(0,a.default)(_.Button,{large:!0,onClick:f},void 0,"Request new verification email"),y,S),"EPICC"===v.PROJECT_NAME&&q,(0,a.default)(_.Button,{large:!0,onClick:s},void 0,"Logout"))));return(0,a.default)(m.Fragment,{},void 0,I,(0,a.default)(A.CookiesOnly,{cookiesAccepted:n,onAccept:o}),(0,a.default)(h.LoadingCover,{loadingSkeleton:E.default,loading:!n||c},void 0,P),(0,a.default)(h.DebugObject,{debugTitle:"Account",debugObject:{cookiesAllowed:n,onCookiesAccepted:o,logout:s,user:u,userLoading:c,loggingOut:l,loggingOutSuccess:d,loggingOutError:p,requestVerificationEmail:f,requestingVerificationEmail:g,requestingSuccess:j,requestingError:b}}))}}]),t}(m.default.Component);t.default=C,C.defaultProps={loggingIn:!1,loggingOutError:null,createdPayment:null,className:null},e.exports=t.default},"./app/containers/Account/actionMeta.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o={key:"account",actionDefinitions:[{REQUEST_VERIFICATION_EMAIL:"tbd",attributes:[],stateMutations:{requestingVerificationEmail:!0,requestingError:!1}},{REQUEST_VERIFICATION_EMAIL_REGISTER_SUCCESS:"tbd",attributes:[],stateMutations:{requestingVerificationEmail:!1,requestingSuccess:!0}},{REQUEST_VERIFICATION_EMAIL_REGISTER_ERROR:"tbd",attributes:["requestingError"],stateMutations:{requestingVerificationEmail:!1,requestingError:function(e){return e.requestingError}}},{LOGOUT:"tbd",attributes:[],stateMutations:{loggingOut:!0,loggingOutError:!1}},{LOGOUT_REGISTER_SUCCESS:"tbd",attributes:[],stateMutations:{loggingOut:!1,loggingOutSuccess:!0}},{LOGOUT_REGISTER_ERROR:"tbd",attributes:["loggingOutError"],stateMutations:{loggingOut:!1,loggingOutError:function(e){return e.loggingOutError}}}]};t.default=o,e.exports=t.default},"./app/containers/Account/actions.js":function(e,t,n){"use strict";var o=n("./node_modules/@babel/runtime/helpers/interopRequireWildcard.js"),s=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),r=s(n("./app/containers/Account/constants.js")),a=s(n("./app/containers/Account/actionMeta.js")),i=o(n("./helpers/redux/actions.js")),u=a.default.actionDefinitions;e.exports=(0,i.default)((0,i.populateConstants)(u,r.default))},"./app/containers/Account/constants.js":function(e,t,n){"use strict";var o=n("./node_modules/@babel/runtime/helpers/interopRequireWildcard.js"),s=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),r=s(n("./node_modules/@babel/runtime/helpers/toConsumableArray.js")),a=s(n("./app/containers/Account/actionMeta.js")),i=o(n("./helpers/redux/constants.js")),u=a.default.actionDefinitions;e.exports=i.default.apply(void 0,(0,r.default)((0,i.inferConstantsFromActionDefinitions)(u)))},"./app/containers/Account/index.js":function(e,t,n){"use strict";var o=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.mapDispatchToProps=t.default=void 0;var s=o(n("./node_modules/@babel/runtime/helpers/defineProperty.js")),r=n("./node_modules/react-redux/lib/index.js"),a=n("./node_modules/redux/es/index.js"),i=n("./node_modules/reselect/es/index.js"),u=o(n("./app/containers/Account/actionMeta.js")),c=o(n("./app/containers/Account/selectors.js")),l=o(n("./app/containers/Account/actions.js")),d=o(n("./app/containers/Account/reducer.js")),p=o(n("./app/containers/Account/saga.js")),f=o(n("./app/containers/Account/Container.js")),g=o(n("./app/utils/injectReducer.js")),m=o(n("./app/utils/injectSaga.js")),j=o(n("./app/containers/App/selectors.js")),b=o(n("./app/containers/App/actions.js")),E=n("./helpers/redux/selectors.js"),_=n("./helpers/redux/actions.js");function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){(0,s.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var A=function(e){return(0,_.mapActions)(e,h({},b.default,{},l.default))};t.mapDispatchToProps=A;var v=(0,i.createStructuredSelector)((0,E.mapSelectors)(h({},j.default,{},c.default))),R=(0,r.connect)(v,A),x=(0,g.default)({key:u.default.key,reducer:d.default}),y=(0,m.default)({key:u.default.key,saga:p.default}),S=(0,a.compose)(x,y,R)(f.default);t.default=S},"./app/containers/Account/reducer.js":function(e,t,n){"use strict";var o=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=n("./node_modules/immutable/dist/immutable.js"),r=n("./helpers/redux/reducers.js"),a=o(n("./app/containers/Account/actionMeta.js")),i=o(n("./app/containers/Account/constants.js")),u=(0,r.createInitialState)(a.default.actionDefinitions),c=(0,s.fromJS)(u),l=(0,r.createAppReducer)(a.default.actionDefinitions,i.default,c);t.default=l,e.exports=t.default},"./app/containers/Account/saga.js":function(e,t,n){"use strict";var o=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.doRequestVerificationEmail=j,t.doLogout=b,t.default=E;var s=o(n("./node_modules/@babel/runtime/regenerator/index.js")),r=n("./app/containers/Account/constants.js"),a=n("./app/containers/Account/actions.js"),i=(n("./app/containers/Account/selectors.js"),n("./node_modules/redux-saga/dist/redux-saga-effects-npm-proxy.cjs.js")),u=n("./app/containers/App/actions.js"),c=(n("./app/containers/RequestStatusWrapper/actions.js"),n("./helpers/constants.js")),l=n("./helpers/redux/saga.js"),d=(o(n("./app/utils/request.js")),s.default.mark(j)),p=s.default.mark(b),f=s.default.mark(E),g={type:"success",message:"Logged out!"},m={type:"success",message:"Verification email sent!"};function j(){var e,t;return s.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e="".concat(c.API_ENDPOINT,"/requestVerificationEmail"),t={method:"POST",body:"",headers:{"Content-Type":"application/json"}},n.next=4,(0,l.sagaHelper)(e,t,a.requestVerificationEmailRegisterError,a.requestVerificationEmailRegisterSuccess,m,null);case 4:case"end":return n.stop()}}),d)}function b(){var e,t;return s.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e="".concat(c.API_ENDPOINT,"/logout"),t={method:"POST",body:"",headers:{"Content-Type":"application/json"}},n.next=4,(0,l.sagaHelper)(e,t,a.logoutRegisterError,a.logoutRegisterSuccess,g,s.default.mark((function e(){return s.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,i.put)((0,u.setUser)(null));case 2:case"end":return e.stop()}}),e)})));case 4:case"end":return n.stop()}}),p)}function E(){return s.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,i.takeLatest)(r.LOGOUT,(function(){return b()}));case 2:return e.next=4,(0,i.takeLatest)(r.REQUEST_VERIFICATION_EMAIL,(function(){return j()}));case 4:case"end":return e.stop()}}),f)}},"./app/containers/Account/selectors.js":function(e,t,n){"use strict";var o=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),s=o(n("./app/containers/Account/actionMeta.js")),r=o(n("./app/containers/Account/reducer.js")),a=o(n("./helpers/redux/selectors.js")),i=n("./helpers/redux/reducers.js");e.exports=(0,a.default)(s.default.key,(0,i.inferPropertiesFromInitialState)((0,i.getInitialState)(r.default)))}}]);