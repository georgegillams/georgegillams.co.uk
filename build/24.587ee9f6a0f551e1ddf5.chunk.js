(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{"./app/containers/SignUpGG/Container.js":function(e,t,n){"use strict";var s=n("./node_modules/@babel/runtime/helpers/interopRequireWildcard.js"),r=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n("./node_modules/@babel/runtime/helpers/extends.js")),a=r(n("./node_modules/@babel/runtime/helpers/jsx.js")),i=r(n("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js")),u=r(n("./node_modules/@babel/runtime/helpers/classCallCheck.js")),p=r(n("./node_modules/@babel/runtime/helpers/createClass.js")),d=r(n("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),c=r(n("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),l=r(n("./node_modules/@babel/runtime/helpers/inherits.js")),g=s(n("./node_modules/react/index.js")),f=(r(n("./node_modules/prop-types/index.js")),n("./node_modules/react-helmet/lib/Helmet.js")),m=(s(n("./node_modules/bpk-component-image/index.js")),n("./node_modules/bpk-react-utils/index.js")),j=r(n("./app/containers/SignUpGG/Skeleton.js")),b=(n("./node_modules/gg-components/LoadingIndicator/index.js"),n("./node_modules/gg-components/Button/index.js"),n("./node_modules/gg-components/Typography/index.js")),x=(n("./node_modules/gg-components/Code/index.js"),n("./app/components/Forms/index.js")),S=n("./app/components/Sessions/index.js"),_=n("./node_modules/gg-components/Redirect/index.js"),h=n("./node_modules/gg-components/Auth/index.js"),U=(n("./helpers/constants.js"),r(n("./app/containers/pages.scss"))),G=((0,m.cssModules)(U.default),(0,a.default)("br",{})),y=(0,a.default)(b.TextLink,{to:"/login"},void 0,"Already got an account? Login here."),v=(0,a.default)(f.Helmet,{title:"Sign up"}),O=function(e){function t(){return(0,u.default)(this,t),(0,d.default)(this,(0,c.default)(t).apply(this,arguments))}return(0,l.default)(t,e),(0,p.default)(t,[{key:"render",value:function(){var e=this.props,t=e.cookiesAllowed,n=e.onCookiesAccepted,s=e.user,r=e.userLoading,u=e.signUp,p=e.credentials,d=e.setCredentials,c=e.signingUp,l=e.signUpSuccess,f=(e.signUpError,e.className),m=(0,i.default)(e,["cookiesAllowed","onCookiesAccepted","user","userLoading","signUp","credentials","setCredentials","signingUp","signUpSuccess","signUpError","className"]),U=[];if(f&&U.push(f),l)return(0,a.default)(_.GGRedirect,{className:U.join(" "),to:"/account"});var O=g.default.createElement("div",(0,o.default)({className:U.join(" ")},m),(0,a.default)(h.LoggedOutOnly,{user:s},void 0,(0,a.default)(b.Section,{name:"Sign up"},void 0,(0,a.default)(x.SignUpForm,{disabled:c,credentials:p||{},onDataChanged:d,onSubmit:u}),G,y)));return(0,a.default)(g.Fragment,{},void 0,v,(0,a.default)(S.CookiesOnly,{cookiesAccepted:t,onAccept:n}),(0,a.default)(h.LoadingCover,{loadingSkeleton:j.default,loading:!t||r},void 0,O))}}]),t}(g.default.Component);t.default=O,e.exports=t.default},"./app/containers/SignUpGG/actionMeta.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s={key:"magicLogin",actionDefinitions:[{SET_CREDENTIALS:"tbd",attributes:["credentials"],stateMutations:{credentials:function(e){return e.credentials}}},{SIGN_UP:"tbd",attributes:[],stateMutations:{signingUp:!0,signUpError:null}},{SIGN_UP_REGISTER_SUCCESS:"tbd",attributes:[],stateMutations:{signingUp:!1,signUpSuccess:!0}},{SIGN_UP_REGISTER_ERROR:"tbd",attributes:["signUpError"],stateMutations:{signingUp:!1,signUpSuccess:!1,signUpError:function(e){return e.signUpError}}}]};t.default=s,e.exports=t.default},"./app/containers/SignUpGG/index.js":function(e,t,n){"use strict";var s=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),r=s(n("./node_modules/@babel/runtime/helpers/defineProperty.js")),o=s(n("./app/containers/App/selectors.js")),a=s(n("./app/containers/App/actions.js")),i=n("./helpers/redux/index.js"),u=s(n("./app/containers/SignUpGG/actionMeta.js")),p=n("./app/containers/SignUpGG/redux-definitions.js"),d=s(n("./app/containers/SignUpGG/saga.js")),c=s(n("./app/containers/SignUpGG/Container.js"));function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}e.exports=(0,i.composeContainer)(c.default,u.default.key,g({},p.selectors,{},o.default),g({},p.actions,{appActions:a.default}),p.reducer,d.default)},"./app/containers/SignUpGG/redux-definitions.js":function(e,t,n){"use strict";var s=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),r=s(n("./app/containers/SignUpGG/actionMeta.js")),o=s(n("./helpers/redux/index.js"));e.exports=(0,o.default)(r.default)},"./app/containers/SignUpGG/saga.js":function(e,t,n){"use strict";var s=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.doSignUp=x,t.default=S;var r=s(n("./node_modules/@babel/runtime/regenerator/index.js")),o=n("./app/containers/SignUpGG/redux-definitions.js"),a=n("./node_modules/redux-saga/dist/redux-saga-effects-npm-proxy.cjs.js"),i=n("./app/containers/App/actions.js"),u=n("./helpers/constants.js"),p=n("./app/containers/RequestStatusWrapper/actions.js"),d=s(n("./app/utils/request.js")),c=r.default.mark(x),l=r.default.mark(S),g=o.constants.SIGN_UP,f=o.actions.signUpRegisterSuccess,m=o.actions.signUpRegisterError,j=o.selectors.makeSelectCredentials,b={type:"success",message:"Account created!"};function x(){var e,t,n;return r.default.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,(0,a.select)(j());case 2:return e=s.sent,t="".concat(u.API_ENDPOINT,"/signUp"),s.prev=4,s.next=7,(0,a.call)(d.default,t,{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}});case 7:if(!(n=s.sent).error){s.next=15;break}return s.next=11,(0,a.put)(m(n));case 11:return s.next=13,(0,a.put)((0,p.pushMessage)({type:"error",message:n.errorMessage}));case 13:s.next=21;break;case 15:return s.next=17,(0,a.put)(f());case 17:return s.next=19,(0,a.put)((0,i.setUser)(n));case 19:return s.next=21,(0,a.put)((0,p.pushMessage)(b));case 21:s.next=29;break;case 23:return s.prev=23,s.t0=s.catch(4),s.next=27,(0,a.put)(loginRegisterError(s.t0));case 27:return s.next=29,(0,a.put)((0,p.pushMessage)(u.COMMUNICATION_ERROR_MESSAGE));case 29:case"end":return s.stop()}}),c,null,[[4,23]])}function S(){return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,a.takeLatest)(g,x);case 2:case"end":return e.stop()}}),l)}}}]);